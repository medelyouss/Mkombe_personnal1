{% extends 'admin/base.html.twig' %}

{% block title %}{{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('medel_assets/css/plugins/chosen/bootstrap-chosen.css') }}">
{% endblock %}

{% block body %}
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4>Ajouter un produit</h4>
                </div>

                <div class="panel-body">
                    {{ form_start(form) }}
                    <div class="form-group col-sm-12 {% if form_errors(form.designation) %}has-error{% endif %}">
                        <label>Désignation <span class="text-danger">*</span></label>
                        {{ form_widget(form.designation, {
                            'attr' : {
                                'class' : 'form-control',
                                'placeholder' : "Désignation"
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.designation) }}</small>
                        </div>
                    </div>

                    <div class="form-group col-sm-12 {% if form_errors(form.shortdescription) %}has-error{% endif %}">
                        <label>Mini-description<span class="text-danger">*</span></label>
                        {{ form_widget(form.shortdescription, {
                            'attr' : {
                                'class' : 'form-control',
                                'placeholder' : "Mini-description"
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.shortdescription) }}</small>
                        </div>
                    </div>
                    <div class="form-group col-sm-12 {% if form_errors(form.price) %}has-error{% endif %}">
                        <label>Prix <span class="text-muted">*</span></label>
                        {{ form_widget(form.price, {
                            'attr' : {
                                'class' : 'form-control'
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.price) }}</small>
                        </div>
                    </div>

                    <div class="form-group col-sm-12 {% if form_errors(form.categories) %}has-error{% endif %}">
                        <label>Catégories <span class="text-muted">*</span></label>
                        {{ form_widget(form.categories, {
                            'attr' : {
                                'class' : 'form-control chosen-select'
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.categories) }}</small>
                        </div>
                    </div>

                    <div class="form-group col-sm-12 {% if form_errors(form.productcondition) %}has-error{% endif %}">
                        <label>Etat du produit <span class="text-danger">*</span></label>
                        {{ form_widget(form.productcondition, {
                            'attr' : {
                                'class' : 'form-control'
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.productcondition) }}</small>
                        </div>
                    </div>
                    <div class="form-group col-sm-12 {% if form_errors(form.colors) %}has-error{% endif %}">
                        <label>Couleurs disponibles <span class="text-muted">*</span></label>
                        {{ form_widget(form.colors, {
                            'attr' : {
                                'class' : 'form-control chosen-select'
                            }
                        }) }}
                        <div class="form-error">
                            <small class="text-danger">{{ form_errors(form.colors) }}</small>
                        </div>
                    </div>


                    <div class="col-sm-12">
                        <button type="submit" class="btn btn-info waves-effect waves-light">
                            <i class="fa fa-save"></i> Enregistrer</button>
                        <a href="{{ path("product_index") }}" type="button"
                           class="btn btn-default waves-effect waves-light pull-right">Annuler</a>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    {#<!-- Chosen -->#}
    <script type="text/javascript" src="{{ asset('medel_assets/js/plugins/chosen/chosen.jquery.js') }}"></script>

    <script>
        $('.chosen-select').chosen({width: "100%"});
    </script>
{% endblock %}